name: "publish_results"
namespace: "io"
description: "Publish the results"
argument_groups:
  - name: Input arguments
    arguments:
      - name: --star_output
        description: Output from mapping with STAR
        type: file
        multiple: true
        required: true
      - name: "--nrReadsNrGenesPerChrom"
        type: file
        multiple: true
        required: true
      - name: "--star_qc_metrics"
        type: file
        multiple: true
        required: true
      - name: "--eset"
        type: file
        multiple: true
        required: true
      - name: "--f_data"
        type: file
        multiple: true
        required: true
      - name: "--p_data"
        type: file
        multiple: true
        required: true
      - name: "--html_report"
        type: file
        required: true
      - name: "--run_params"
        type: file
        required: true
  - name: Output arguments
    arguments:
      - name: --output_dir
        type: file
        direction: output
        description: "Base output directory for single files"
      - name: --star_output_dir
        type: file
        direction: output
        default: "star_output"
      - name: --nrReadsNrGenesPerChrom_dir
        type: file
        direction: output
        default: "nrReadsNrGenesPerChrom"
      - name: --star_qc_metrics_dir
        type: file
        direction: output
        default: "starLogs"
      - name: --eset_dir
        type: file
        direction: output
        default: "esets"
      - name: --f_data_dir
        type: file
        direction: output
        default: "fData"
      - name: --p_data_dir
        type: file
        direction: output
        default: "pData"

resources:
  - type: bash_script
    path: ./code.sh

engines:
  - type: docker
    image: debian:stable-slim
    setup:
      - type: apt
        packages:
          - procps

runners:
  - type: executable
  - type: nextflow
